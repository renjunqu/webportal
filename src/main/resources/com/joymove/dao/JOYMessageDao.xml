<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.joymove.dao.JOYMessageDao">
	
	<resultMap type="JOYMessage" id="joymessage">
		<constructor>
			<idArg column="id" javaType="Integer" />
			<arg column="type" javaType="String" />
			<arg column="content" javaType="String"/>
			<arg column="createTime" javaType="java.util.Date"/>
			<arg column="mobileNo" javaType="String"/>
		</constructor>

	</resultMap>
	
		<sql id="messageColumn">
		                 u.id, 
	                     u.type, 
	                     u.content, 
	                     u.createTime, 
	                     u.mobileNo
		</sql>
	
	<select id="getJOYMessageByID" resultMap="joymessage" parameterType="map">
		select <include refid="messageColumn"/>
		from  JOY_Messages u where u.mobileNo=#{mobileNo} and u.type=1
	</select>
	
	<select id="getJOYBroadcastMessage" resultMap="joymessage">
		select <include refid="messageColumn"/>
		from JOY_Messages u where u.type = 0
	</select>
</mapper>	